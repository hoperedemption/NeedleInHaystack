\doxysection{imgfs.\+h File Reference}
\hypertarget{imgfs_8h}{}\label{imgfs_8h}\index{imgfs.h@{imgfs.h}}


Main header file for img\+FS core library.  


{\ttfamily \#include \"{}error.\+h\"{}}\newline
{\ttfamily \#include $<$openssl/sha.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
Include dependency graph for imgfs.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{imgfs_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{imgfs_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structimgfs__header}{imgfs\+\_\+header}}
\begin{DoxyCompactList}\small\item\em The header with the configuration data \+: name, version, number of saved files, maximal number of files, the array of all the resolutions and the unsued space (in 32 and 64 bits). \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structimg__metadata}{img\+\_\+metadata}}
\begin{DoxyCompactList}\small\item\em The metadata of the image like its ID, its SHA, its vailidity (can it be overwritten because unvalid ot not), its original size, ... \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}}
\begin{DoxyCompactList}\small\item\em The database with the file in which everything needed is written in, its header with information stored in \doxylink{structimgfs__header}{imgfs\+\_\+header} and all the metadata of the stored images. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{imgfs_8h_af27b4d1a50764da84f9f4f598d0e4bc6}\label{imgfs_8h_af27b4d1a50764da84f9f4f598d0e4bc6} 
\#define {\bfseries CAT\+\_\+\+TXT}~\"{}EPFL Img\+FS 2024\"{}
\item 
\Hypertarget{imgfs_8h_a6fe6b19e5d294bcbcfceaf03fc7f6f67}\label{imgfs_8h_a6fe6b19e5d294bcbcfceaf03fc7f6f67} 
\#define {\bfseries MAX\+\_\+\+IMGFS\+\_\+\+NAME}~31
\item 
\Hypertarget{imgfs_8h_a8ff277949c0e4551190b50481b424e5f}\label{imgfs_8h_a8ff277949c0e4551190b50481b424e5f} 
\#define {\bfseries MAX\+\_\+\+IMG\+\_\+\+ID}~127
\item 
\Hypertarget{imgfs_8h_a2b7cf2a3641be7b89138615764d60ba3}\label{imgfs_8h_a2b7cf2a3641be7b89138615764d60ba3} 
\#define {\bfseries EMPTY}~0
\item 
\Hypertarget{imgfs_8h_ad027c88b7d1deb8c6f2478b2d2b8ca14}\label{imgfs_8h_ad027c88b7d1deb8c6f2478b2d2b8ca14} 
\#define {\bfseries NON\+\_\+\+EMPTY}~1
\item 
\Hypertarget{imgfs_8h_ad6059b48129b1b9d2f3f15eb268f6f2f}\label{imgfs_8h_ad6059b48129b1b9d2f3f15eb268f6f2f} 
\#define {\bfseries THUMB\+\_\+\+RES}~0
\item 
\Hypertarget{imgfs_8h_af2816945ac768ef4da26879f23f7ae1e}\label{imgfs_8h_af2816945ac768ef4da26879f23f7ae1e} 
\#define {\bfseries SMALL\+\_\+\+RES}~1
\item 
\Hypertarget{imgfs_8h_a721388e18fb43b21d7287bee03ec3a4c}\label{imgfs_8h_a721388e18fb43b21d7287bee03ec3a4c} 
\#define {\bfseries ORIG\+\_\+\+RES}~2
\item 
\Hypertarget{imgfs_8h_a0a12665dfff5d7a34574ee34ed026096}\label{imgfs_8h_a0a12665dfff5d7a34574ee34ed026096} 
\#define {\bfseries NB\+\_\+\+RES}~3
\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{imgfs_8h_af68b9ba47e9dab280480cbdc41f7bc1e}{do\+\_\+list\+\_\+mode}} \{ {\bfseries STDOUT}
, {\bfseries JSON}
, {\bfseries NB\+\_\+\+DO\+\_\+\+LIST\+\_\+\+MODES}
 \}
\begin{DoxyCompactList}\small\item\em List of possible output modes for \doxylink{imgfs_8h_a176d7b8571884582fd334eda112cc537}{do\+\_\+list()} \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{imgfs_8h_ae10f7e9d86aa5eeb1c9a6f22b204bdd7}{print\+\_\+header}} (const struct \mbox{\hyperlink{structimgfs__header}{imgfs\+\_\+header}} \texorpdfstring{$\ast$}{*}header)
\begin{DoxyCompactList}\small\item\em Prints img\+FS header informations. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{imgfs_8h_acba0793a6c1495bc3717ebd8d3a48230}{print\+\_\+metadata}} (const struct \mbox{\hyperlink{structimg__metadata}{img\+\_\+metadata}} \texorpdfstring{$\ast$}{*}metadata)
\begin{DoxyCompactList}\small\item\em Prints image metadata informations. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{imgfs_8h_af8ec7b62fa023bb2f0d84de391939d50}{do\+\_\+open}} (const char \texorpdfstring{$\ast$}{*}imgfs\+\_\+filename, const char \texorpdfstring{$\ast$}{*}open\+\_\+mode, struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}})
\begin{DoxyCompactList}\small\item\em Open img\+FS file, read the header and all the metadata. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{imgfs_8h_a0fc6336b34a24d13d080f051ca08742f}{do\+\_\+close}} (struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}})
\begin{DoxyCompactList}\small\item\em Do some clean-\/up for img\+FS file handling. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{imgfs_8h_a176d7b8571884582fd334eda112cc537}{do\+\_\+list}} (const struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}}, enum \mbox{\hyperlink{imgfs_8h_af68b9ba47e9dab280480cbdc41f7bc1e}{do\+\_\+list\+\_\+mode}} output\+\_\+mode, char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}json)
\begin{DoxyCompactList}\small\item\em Displays (on stdout) img\+FS metadata. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{imgfs_8h_a38595ac989599d94d5f396e33774be03}{do\+\_\+create}} (const char \texorpdfstring{$\ast$}{*}imgfs\+\_\+filename, struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}})
\begin{DoxyCompactList}\small\item\em Creates the img\+FS called imgfs\+\_\+filename. Writes the header and the preallocated empty metadata array to img\+FS file. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{imgfs_8h_a4f2afb320968906e85ff711ca4b3050f}{do\+\_\+delete}} (const char \texorpdfstring{$\ast$}{*}img\+\_\+id, struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}})
\begin{DoxyCompactList}\small\item\em Deletes an image from a img\+FS img\+FS. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{imgfs_8h_ac2559bb42e25295274bce94d2432bbdf}{resolution\+\_\+atoi}} (const char \texorpdfstring{$\ast$}{*}resolution)
\begin{DoxyCompactList}\small\item\em Transforms resolution string to its int value. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{imgfs_8h_ae668b30251e7611bff67de0472c23b96}{do\+\_\+read}} (const char \texorpdfstring{$\ast$}{*}img\+\_\+id, int resolution, char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}image\+\_\+buffer, uint32\+\_\+t \texorpdfstring{$\ast$}{*}image\+\_\+size, struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}})
\begin{DoxyCompactList}\small\item\em Reads the content of an image from a img\+FS. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{imgfs_8h_af0e43dfb3bdfcef033564ab772b38124}{do\+\_\+insert}} (const char \texorpdfstring{$\ast$}{*}image\+\_\+buffer, size\+\_\+t image\+\_\+size, const char \texorpdfstring{$\ast$}{*}img\+\_\+id, struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}})
\begin{DoxyCompactList}\small\item\em Insert image in the img\+FS file. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{imgfs_8h_aadeca3c1a63487bfccdbbbe64eff3aa5}{do\+\_\+gbcollect}} (const char \texorpdfstring{$\ast$}{*}imgfs\+\_\+path, const char \texorpdfstring{$\ast$}{*}imgfs\+\_\+tmp\+\_\+bkp\+\_\+path)
\begin{DoxyCompactList}\small\item\em Removes the deleted images by moving the existing ones. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Main header file for img\+FS core library. 

Defines the format of the data structures that will be stored on the disk and provides interface functions.

The img\+FS data structure starts with exactly one header structure, followed by exactly \doxylink{structimgfs__header_aebc404807f47d4d5dd74235b4a1c7c88}{imgfs\+\_\+header.\+max\+\_\+files} metadata structures. The actual content is not defined by these structures because it should be stored as raw bytes appended at the end of the img\+FS file and addressed by offsets in the metadata structure.

\begin{DoxyAuthor}{Author}
Mia Primorac 
\end{DoxyAuthor}


\doxysubsection{Enumeration Type Documentation}
\Hypertarget{imgfs_8h_af68b9ba47e9dab280480cbdc41f7bc1e}\label{imgfs_8h_af68b9ba47e9dab280480cbdc41f7bc1e} 
\index{imgfs.h@{imgfs.h}!do\_list\_mode@{do\_list\_mode}}
\index{do\_list\_mode@{do\_list\_mode}!imgfs.h@{imgfs.h}}
\doxysubsubsection{\texorpdfstring{do\_list\_mode}{do\_list\_mode}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{imgfs_8h_af68b9ba47e9dab280480cbdc41f7bc1e}{do\+\_\+list\+\_\+mode}}}



List of possible output modes for \doxylink{imgfs_8h_a176d7b8571884582fd334eda112cc537}{do\+\_\+list()} 


\begin{DoxyParams}{Parameters}
{\em \doxylink{structimgfs__file}{imgfs\+\_\+file}} & Structure for header, metadata and file pointer to be freed/closed. \\
\hline
\end{DoxyParams}


\doxysubsection{Function Documentation}
\Hypertarget{imgfs_8h_a0fc6336b34a24d13d080f051ca08742f}\label{imgfs_8h_a0fc6336b34a24d13d080f051ca08742f} 
\index{imgfs.h@{imgfs.h}!do\_close@{do\_close}}
\index{do\_close@{do\_close}!imgfs.h@{imgfs.h}}
\doxysubsubsection{\texorpdfstring{do\_close()}{do\_close()}}
{\footnotesize\ttfamily void do\+\_\+close (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}} \texorpdfstring{$\ast$}{*}}]{imgfs\+\_\+ptr }\end{DoxyParamCaption})}



Do some clean-\/up for img\+FS file handling. 


\begin{DoxyParams}{Parameters}
{\em \doxylink{structimgfs__file}{imgfs\+\_\+file}} & Structure for header, metadata and file pointer to be freed/closed.\\
\hline
\end{DoxyParams}
Do some clean-\/up for img\+FS file handling.


\begin{DoxyParams}{Parameters}
{\em imgfs\+\_\+ptr} & (struct imgfs\+\_\+file\texorpdfstring{$\ast$}{*}) \+: a pointer to the structure containing the information of the database. \\
\hline
\end{DoxyParams}
\Hypertarget{imgfs_8h_a38595ac989599d94d5f396e33774be03}\label{imgfs_8h_a38595ac989599d94d5f396e33774be03} 
\index{imgfs.h@{imgfs.h}!do\_create@{do\_create}}
\index{do\_create@{do\_create}!imgfs.h@{imgfs.h}}
\doxysubsubsection{\texorpdfstring{do\_create()}{do\_create()}}
{\footnotesize\ttfamily int do\+\_\+create (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{imgfs\+\_\+filename,  }\item[{struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}} \texorpdfstring{$\ast$}{*}}]{imgfs\+\_\+file }\end{DoxyParamCaption})}



Creates the img\+FS called imgfs\+\_\+filename. Writes the header and the preallocated empty metadata array to img\+FS file. 


\begin{DoxyParams}{Parameters}
{\em imgfs\+\_\+filename} & Path to the img\+FS file \\
\hline
{\em \doxylink{structimgfs__file}{imgfs\+\_\+file}} & In memory structure with header and metadata. \\
\hline
\end{DoxyParams}
\Hypertarget{imgfs_8h_a4f2afb320968906e85ff711ca4b3050f}\label{imgfs_8h_a4f2afb320968906e85ff711ca4b3050f} 
\index{imgfs.h@{imgfs.h}!do\_delete@{do\_delete}}
\index{do\_delete@{do\_delete}!imgfs.h@{imgfs.h}}
\doxysubsubsection{\texorpdfstring{do\_delete()}{do\_delete()}}
{\footnotesize\ttfamily int do\+\_\+delete (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{img\+\_\+id,  }\item[{struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}} \texorpdfstring{$\ast$}{*}}]{imgfs\+\_\+file }\end{DoxyParamCaption})}



Deletes an image from a img\+FS img\+FS. 

Effectively, it only invalidates the is\+\_\+valid field and updates the metadata. The raw data content is not erased, it stays where it was (and new content is always appended to the end; no garbage collection).


\begin{DoxyParams}{Parameters}
{\em img\+\_\+id} & The ID of the image to be deleted. \\
\hline
{\em \doxylink{structimgfs__file}{imgfs\+\_\+file}} & The main in-\/memory data structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Some error code. 0 if no error. 
\end{DoxyReturn}
\Hypertarget{imgfs_8h_aadeca3c1a63487bfccdbbbe64eff3aa5}\label{imgfs_8h_aadeca3c1a63487bfccdbbbe64eff3aa5} 
\index{imgfs.h@{imgfs.h}!do\_gbcollect@{do\_gbcollect}}
\index{do\_gbcollect@{do\_gbcollect}!imgfs.h@{imgfs.h}}
\doxysubsubsection{\texorpdfstring{do\_gbcollect()}{do\_gbcollect()}}
{\footnotesize\ttfamily int do\+\_\+gbcollect (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{imgfs\+\_\+path,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{imgfs\+\_\+tmp\+\_\+bkp\+\_\+path }\end{DoxyParamCaption})}



Removes the deleted images by moving the existing ones. 


\begin{DoxyParams}{Parameters}
{\em imgfs\+\_\+path} & The path to the img\+FS file \\
\hline
{\em imgfs\+\_\+tmp\+\_\+bkp\+\_\+path} & The path to the a (to be created) temporary img\+FS backup file \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Some error code. 0 if no error. 
\end{DoxyReturn}
\Hypertarget{imgfs_8h_af0e43dfb3bdfcef033564ab772b38124}\label{imgfs_8h_af0e43dfb3bdfcef033564ab772b38124} 
\index{imgfs.h@{imgfs.h}!do\_insert@{do\_insert}}
\index{do\_insert@{do\_insert}!imgfs.h@{imgfs.h}}
\doxysubsubsection{\texorpdfstring{do\_insert()}{do\_insert()}}
{\footnotesize\ttfamily int do\+\_\+insert (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{image\+\_\+buffer,  }\item[{size\+\_\+t}]{image\+\_\+size,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{img\+\_\+id,  }\item[{struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}} \texorpdfstring{$\ast$}{*}}]{imgfs\+\_\+file }\end{DoxyParamCaption})}



Insert image in the img\+FS file. 


\begin{DoxyParams}{Parameters}
{\em buffer} & Pointer to the raw image content \\
\hline
{\em size} & Image size \\
\hline
{\em img\+\_\+id} & Image ID \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Some error code. 0 if no error. 
\end{DoxyReturn}
\Hypertarget{imgfs_8h_a176d7b8571884582fd334eda112cc537}\label{imgfs_8h_a176d7b8571884582fd334eda112cc537} 
\index{imgfs.h@{imgfs.h}!do\_list@{do\_list}}
\index{do\_list@{do\_list}!imgfs.h@{imgfs.h}}
\doxysubsubsection{\texorpdfstring{do\_list()}{do\_list()}}
{\footnotesize\ttfamily int do\+\_\+list (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}} \texorpdfstring{$\ast$}{*}}]{imgfs\+\_\+file,  }\item[{enum \mbox{\hyperlink{imgfs_8h_af68b9ba47e9dab280480cbdc41f7bc1e}{do\+\_\+list\+\_\+mode}}}]{output\+\_\+mode,  }\item[{char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{json }\end{DoxyParamCaption})}



Displays (on stdout) img\+FS metadata. 


\begin{DoxyParams}{Parameters}
{\em \doxylink{structimgfs__file}{imgfs\+\_\+file}} & In memory structure with header and metadata. \\
\hline
{\em output\+\_\+mode} & What style to use for displaying infos. \\
\hline
{\em json} & A pointer to a string containing the list in JSON format if output\+\_\+mode is JSON. It will be dynamically allocated by the function. Ignored for other output modes. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
some error code.
\end{DoxyReturn}
Displays (on stdout) img\+FS metadata.


\begin{DoxyParams}{Parameters}
{\em \doxylink{structimgfs__file}{imgfs\+\_\+file}} & (const struct imgfs\+\_\+file\texorpdfstring{$\ast$}{*}) \+: the database containg the images \\
\hline
{\em output\+\_\+mode} & (enum do\+\_\+list\+\_\+mode) \+: the mode of display of the format \\
\hline
\end{DoxyParams}
\Hypertarget{imgfs_8h_af8ec7b62fa023bb2f0d84de391939d50}\label{imgfs_8h_af8ec7b62fa023bb2f0d84de391939d50} 
\index{imgfs.h@{imgfs.h}!do\_open@{do\_open}}
\index{do\_open@{do\_open}!imgfs.h@{imgfs.h}}
\doxysubsubsection{\texorpdfstring{do\_open()}{do\_open()}}
{\footnotesize\ttfamily int do\+\_\+open (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{imgfs\+\_\+filename,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{open\+\_\+mode,  }\item[{struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}} \texorpdfstring{$\ast$}{*}}]{imgfs\+\_\+file }\end{DoxyParamCaption})}



Open img\+FS file, read the header and all the metadata. 


\begin{DoxyParams}{Parameters}
{\em imgfs\+\_\+filename} & Path to the img\+FS file \\
\hline
{\em open\+\_\+mode} & Mode for fopen(), eg.\+: \"{}rb\"{}, \"{}rb+\"{}, etc. \\
\hline
{\em \doxylink{structimgfs__file}{imgfs\+\_\+file}} & Structure for header, metadata and file pointer.\\
\hline
\end{DoxyParams}
Open img\+FS file, read the header and all the metadata.


\begin{DoxyParams}{Parameters}
{\em imgfs\+\_\+filename} & (const char\texorpdfstring{$\ast$}{*}) \+: The name of the file to be opened \\
\hline
{\em open\+\_\+mode} & (const char\texorpdfstring{$\ast$}{*}) \+: The opening mode, STDOUT or JSON \\
\hline
{\em \doxylink{structimgfs__file}{imgfs\+\_\+file}} & (struct imgfs\+\_\+file\texorpdfstring{$\ast$}{*}) \+: A pointer to the structure to be filled by the data contained in the file \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
(int) \+: There are four possible return values. If the file does not exists, or an error occurs during the opening of the file or during the reading of the ~\newline
header or the metadata, an IO\+\_\+\+ERROR is sent. If the database has a maximum number of files of 0, then an ERR\+\_\+\+MAX\+\_\+\+FILES is returned. If an error occurs during ~\newline
the allocation of the pointer to store the metadata of the images, an ERR\+\_\+\+RUNTIME is sent. Otherwise, if everything goes smoothly, an ERR\+\_\+\+NONE is returned, meaning ~\newline
that any error has not been detected. 
\end{DoxyReturn}
\Hypertarget{imgfs_8h_ae668b30251e7611bff67de0472c23b96}\label{imgfs_8h_ae668b30251e7611bff67de0472c23b96} 
\index{imgfs.h@{imgfs.h}!do\_read@{do\_read}}
\index{do\_read@{do\_read}!imgfs.h@{imgfs.h}}
\doxysubsubsection{\texorpdfstring{do\_read()}{do\_read()}}
{\footnotesize\ttfamily int do\+\_\+read (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{img\+\_\+id,  }\item[{int}]{resolution,  }\item[{char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{image\+\_\+buffer,  }\item[{uint32\+\_\+t \texorpdfstring{$\ast$}{*}}]{image\+\_\+size,  }\item[{struct \mbox{\hyperlink{structimgfs__file}{imgfs\+\_\+file}} \texorpdfstring{$\ast$}{*}}]{imgfs\+\_\+file }\end{DoxyParamCaption})}



Reads the content of an image from a img\+FS. 


\begin{DoxyParams}{Parameters}
{\em img\+\_\+id} & The ID of the image to be read. \\
\hline
{\em resolution} & The desired resolution for the image read. \\
\hline
{\em image\+\_\+buffer} & Location of the location of the image content \\
\hline
{\em image\+\_\+size} & Location of the image size variable \\
\hline
{\em \doxylink{structimgfs__file}{imgfs\+\_\+file}} & The main in-\/memory data structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Some error code. 0 if no error. 
\end{DoxyReturn}
\Hypertarget{imgfs_8h_ae10f7e9d86aa5eeb1c9a6f22b204bdd7}\label{imgfs_8h_ae10f7e9d86aa5eeb1c9a6f22b204bdd7} 
\index{imgfs.h@{imgfs.h}!print\_header@{print\_header}}
\index{print\_header@{print\_header}!imgfs.h@{imgfs.h}}
\doxysubsubsection{\texorpdfstring{print\_header()}{print\_header()}}
{\footnotesize\ttfamily void print\+\_\+header (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structimgfs__header}{imgfs\+\_\+header}} \texorpdfstring{$\ast$}{*}}]{header }\end{DoxyParamCaption})}



Prints img\+FS header informations. 


\begin{DoxyParams}{Parameters}
{\em header} & The header to be displayed. \\
\hline
\end{DoxyParams}
\Hypertarget{imgfs_8h_acba0793a6c1495bc3717ebd8d3a48230}\label{imgfs_8h_acba0793a6c1495bc3717ebd8d3a48230} 
\index{imgfs.h@{imgfs.h}!print\_metadata@{print\_metadata}}
\index{print\_metadata@{print\_metadata}!imgfs.h@{imgfs.h}}
\doxysubsubsection{\texorpdfstring{print\_metadata()}{print\_metadata()}}
{\footnotesize\ttfamily void print\+\_\+metadata (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structimg__metadata}{img\+\_\+metadata}} \texorpdfstring{$\ast$}{*}}]{metadata }\end{DoxyParamCaption})}



Prints image metadata informations. 


\begin{DoxyParams}{Parameters}
{\em metadata} & The metadata of one image. \\
\hline
\end{DoxyParams}
\Hypertarget{imgfs_8h_ac2559bb42e25295274bce94d2432bbdf}\label{imgfs_8h_ac2559bb42e25295274bce94d2432bbdf} 
\index{imgfs.h@{imgfs.h}!resolution\_atoi@{resolution\_atoi}}
\index{resolution\_atoi@{resolution\_atoi}!imgfs.h@{imgfs.h}}
\doxysubsubsection{\texorpdfstring{resolution\_atoi()}{resolution\_atoi()}}
{\footnotesize\ttfamily int resolution\+\_\+atoi (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{resolution }\end{DoxyParamCaption})}



Transforms resolution string to its int value. 


\begin{DoxyParams}{Parameters}
{\em resolution} & The resolution string. Shall be \"{}original\"{}, \"{}orig\"{}, \"{}thumbnail\"{}, \"{}thumb\"{} or \"{}small\"{}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The corresponding value or -\/1 if error. 
\end{DoxyReturn}
